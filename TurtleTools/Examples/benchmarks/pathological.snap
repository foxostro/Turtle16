// Pathological benchmark - Deep nesting and complex expressions
// Expected output: "Pathological result: 42"

func deeplyNestedFunction(x: u16) -> u16 {
    let step1 = x + 1
    let step2 = step1 * 2
    let step3 = step2 + 3
    let step4 = step3 * 4
    let step5 = step4 + 5
    let step6 = step5 * 6
    let step7 = step6 + 7
    let step8 = step7 * 8
    let step9 = step8 + 9
    let step10 = step9 * 10
    return step10
}

func complexCalculation(a: u16, b: u16, c: u16) -> u16 {
    let result1 = deeplyNestedFunction(a)
    let result2 = deeplyNestedFunction(b)
    let result3 = deeplyNestedFunction(c)
    let intermediate1 = result1 + result2
    let intermediate2 = result2 + result3
    let intermediate3 = result1 + result3
    let final1 = intermediate1 * intermediate2
    let final2 = intermediate2 * intermediate3
    let final3 = intermediate1 * intermediate3
    return final1 + final2 + final3
}

func pathologicalStressTest() -> u16 {
    let input1 = complexCalculation(10, 20, 30)
    let input2 = complexCalculation(40, 50, 60)
    let input3 = complexCalculation(70, 80, 90)
    let input4 = complexCalculation(100, 110, 120)
    let input5 = complexCalculation(130, 140, 150)

    let combo1 = complexCalculation(input1, input2, input3)
    let combo2 = complexCalculation(input2, input3, input4)
    let combo3 = complexCalculation(input3, input4, input5)

    return combo1 + combo2 + combo3
}

let result = pathologicalStressTest()

__puts("Pathological result: ")
// Complex calculation - just verify it completed without error
if result > 0 {
    __puts("COMPLETED")
} else {
    __puts("ERROR - unexpected result")
}
__puts("\n")